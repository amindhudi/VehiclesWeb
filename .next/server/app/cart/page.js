(()=>{var e={};e.id=565,e.ids=[565],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},37289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=r(30170),a=r(45002),n=r(54512),i=r(66299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let o=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43709)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,80848)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,49356)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\cart\\page.tsx"],d="/cart/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},86928:(e,t,r)=>{Promise.resolve().then(r.bind(r,85270))},20416:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(34523).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},218:(e,t,r)=>{"use strict";var s=r(28964),a=r(94455),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,l=s.useRef,o=s.useEffect,c=s.useMemo,d=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var g=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return l=t}return l=e}if(t=l,n(i,e))return t;var r=s(e);return void 0!==a&&a(t,r)?t:(i=e,l=r)}var i,l,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=g},[g]),d(g),g}},90490:(e,t,r)=>{"use strict";e.exports=r(218)},85270:(e,t,r)=>{"use strict";let s,a,n,i,l,o;r.r(t),r.d(t,{default:()=>D});var c=r(97247),d=r(28852),u=r(4727);let m=e=>{let t;let r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:s,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(s,a,n);return n},g=e=>e?m(e):m;var h=r(28964),p=r(90490);let{useDebugValue:x}=h,{useSyncExternalStoreWithSelector:f}=p,v=!1,y=e=>e;function b(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var s;let a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),n=null!=(s=r.getItem(e))?s:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,s)=>r.setItem(e,JSON.stringify(s,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}let j=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>j(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>j(t)(e)}}},N=(e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?g(e):e,r=(e,r)=>(function(e,t=y,r){r&&!v&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),v=!0);let s=f(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return x(s),s})(t,e,r);return Object.assign(r,t),r})((s=e=>({items:[],addItem:t=>e(e=>({items:[...e.items,{product:t}]})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.product.id!==t)})),clearCart:()=>e({items:[]})}),"getStorage"in(a={name:"cart-storage",storage:b(()=>localStorage)})||"serialize"in a||"deserialize"in a?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),n=s,i=a,(e,t,r)=>{let s,a,l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...i},o=!1,c=new Set,d=new Set;try{s=l.getStorage()}catch(e){}if(!s)return n((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),e(...t)},t,r);let u=j(l.serialize),m=()=>{let e;let r=u({state:l.partialize({...t()}),version:l.version}).then(e=>s.setItem(l.name,e)).catch(t=>{e=t});if(e)throw e;return r},g=r.setState;r.setState=(e,t)=>{g(e,t),m()};let h=n((...t)=>{e(...t),m()},t,r),p=()=>{var r;if(!s)return;o=!1,c.forEach(e=>e(t()));let n=(null==(r=l.onRehydrateStorage)?void 0:r.call(l,t()))||void 0;return j(s.getItem.bind(s))(l.name).then(e=>{if(e)return l.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return e.state;if(l.migrate)return l.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(r=>{var s;return e(a=l.merge(r,null!=(s=t())?s:h),!0),m()}).then(()=>{null==n||n(a,void 0),o=!0,d.forEach(e=>e(a))}).catch(e=>{null==n||n(void 0,e)})};return r.persist={setOptions:e=>{l={...l,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null==s||s.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},p(),a||h}):(l=s,o=a,(e,t,r)=>{let s,a={storage:b(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...o},n=!1,i=new Set,c=new Set,d=a.storage;if(!d)return l((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...t)},t,r);let u=()=>{let e=a.partialize({...t()});return d.setItem(a.name,{state:e,version:a.version})},m=r.setState;r.setState=(e,t)=>{m(e,t),u()};let g=l((...t)=>{e(...t),u()},t,r);r.getInitialState=()=>g;let h=()=>{var r,l;if(!d)return;n=!1,i.forEach(e=>{var r;return e(null!=(r=t())?r:g)});let o=(null==(l=a.onRehydrateStorage)?void 0:l.call(a,null!=(r=t())?r:g))||void 0;return j(d.getItem.bind(d))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(r=>{var n;return e(s=a.merge(r,null!=(n=t())?n:g),!0),u()}).then(()=>{null==o||o(s,void 0),s=t(),n=!0,c.forEach(e=>e(s))}).catch(e=>{null==o||o(void 0,e)})};return r.persist={setOptions:e=>{a={...a,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>n,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},a.skipHydration||h(),s||g})));var S=r(40677),w=r(85601),E=r(37013),P=r(48799),z=r(20416),I=r(44597),O=r(79906),_=r(34178);let D=()=>{let{items:e,removeItem:t}=N(),r=(0,_.useRouter)(),{mutate:s,isLoading:a}=w.S.payment.createSession.useMutation({onSuccess:({url:e})=>{e&&r.push(e)}}),n=e.map(({product:e})=>e.id),[i,l]=(0,h.useState)(!1);(0,h.useEffect)(()=>{l(!0)},[]);let o=e.reduce((e,{product:t})=>e+t.price,0);return c.jsx("div",{className:"bg-white",children:(0,c.jsxs)("div",{className:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Shopping Cart"}),(0,c.jsxs)("div",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:[(0,c.jsxs)("div",{className:(0,S.cn)("lg:col-span-7",{"rounded-lg border-2 border-dashed border-zinc-200 p-12":i&&0===e.length}),children:[c.jsx("h2",{className:"sr-only",children:"Items in your shopping cart"}),i&&0===e.length?(0,c.jsxs)("div",{className:"flex h-full flex-col items-center justify-center space-y-1",children:[c.jsx("div",{"aria-hidden":"true",className:"relative mb-4 h-40 w-40 text-muted-foreground",children:c.jsx(I.default,{src:"/hippo-empty-cart.png",fill:!0,loading:"eager",alt:"empty shopping cart hippo"})}),c.jsx("h3",{className:"font-semibold text-2xl",children:"Your cart is empty"}),c.jsx("p",{className:"text-muted-foreground text-center",children:"Whoops! Nothing to show here yet."})]}):null,c.jsx("ul",{className:(0,S.cn)({"divide-y divide-gray-200 border-b border-t border-gray-200":i&&e.length>0}),children:i&&e.map(({product:e})=>{let r=u.Zy.find(t=>t.value===e.category)?.label,{image:s}=e.images[0];return(0,c.jsxs)("li",{className:"flex py-6 sm:py-10",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"relative h-24 w-24",children:"string"!=typeof s&&s.url?c.jsx(I.default,{fill:!0,src:s.url,alt:"product image",className:"h-full w-full rounded-md object-cover object-center sm:h-48 sm:w-48"}):null})}),(0,c.jsxs)("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[(0,c.jsxs)("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[(0,c.jsxs)("div",{children:[c.jsx("div",{className:"flex justify-between",children:c.jsx("h3",{className:"text-sm",children:c.jsx(O.default,{href:`/product/${e.id}`,className:"font-medium text-gray-700 hover:text-gray-800",children:e.name})})}),c.jsx("div",{className:"mt-1 flex text-sm",children:(0,c.jsxs)("p",{className:"text-muted-foreground",children:["Category: ",r]})}),c.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:(0,S.T)(e.price)})]}),c.jsx("div",{className:"mt-4 sm:mt-0 sm:pr-9 w-20",children:c.jsx("div",{className:"absolute right-0 top-0",children:c.jsx(d.z,{"aria-label":"remove product",onClick:()=>t(e.id),variant:"ghost",children:c.jsx(E.Z,{className:"h-5 w-5","aria-hidden":"true"})})})})]}),(0,c.jsxs)("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[c.jsx(P.Z,{className:"h-5 w-5 flex-shrink-0 text-green-500"}),c.jsx("span",{children:"Eligible for instant delivery"})]})]})]},e.id)})})]}),(0,c.jsxs)("section",{className:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Order summary"}),(0,c.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Subtotal"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:i?(0,S.T)(o):c.jsx(z.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[c.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:c.jsx("span",{children:"Flat Transaction Fee"})}),c.jsx("div",{className:"text-sm font-medium text-gray-900",children:i?(0,S.T)(1):c.jsx(z.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[c.jsx("div",{className:"text-base font-medium text-gray-900",children:"Order Total"}),c.jsx("div",{className:"text-base font-medium text-gray-900",children:i?(0,S.T)(o+1):c.jsx(z.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})]}),c.jsx("div",{className:"mt-6",children:(0,c.jsxs)(d.z,{disabled:0===e.length||a,onClick:()=>s({productIds:n}),className:"w-full",size:"lg",children:[a?c.jsx(z.Z,{className:"w-4 h-4 animate-spin mr-1.5"}):null,"Checkout"]})})]})]})]})})}},43709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(45347).createProxy)(String.raw`D:\Amin\Projects\VehiclesWeb\src\app\cart\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,19,455],()=>r(37289));module.exports=s})();