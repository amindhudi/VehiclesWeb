(()=>{var e={};e.id=955,e.ids=[955],e.modules={5582:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=5582,e.exports=r},66860:e=>{"use strict";e.exports=require("express")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57441:e=>{"use strict";e.exports=require("sharp")},27790:e=>{"use strict";e.exports=require("assert")},61212:e=>{"use strict";e.exports=require("async_hooks")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},57363:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.Z,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var s=t(30170),i=t(45002),n=t(54512),o=t(66299),a={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);t.d(r,a);let l=["",{children:["thank-you",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18812)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\thank-you\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,80848)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,49356)),"D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\Amin\\Projects\\VehiclesWeb\\src\\app\\thank-you\\page.tsx"],c="/thank-you/page",d={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/thank-you/page",pathname:"/thank-you",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},41351:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,15889,23)),Promise.resolve().then(t.t.bind(t,34080,23)),Promise.resolve().then(t.bind(t,30883))},30883:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});var s=t(97247),i=t(85601),n=t(34178),o=t(28964);let a=({orderEmail:e,orderId:r,isPaid:t})=>{let a=(0,n.useRouter)(),{data:l}=i.S.payment.pullOrderStatus.useQuery({orderId:r},{enabled:!1===t,refetchInterval:e=>!e?.isPaid&&1e3});return(0,o.useEffect)(()=>{l?.isPaid&&a.refresh()},[l?.isPaid,a]),(0,s.jsxs)("div",{className:"mt-16 grid grid-cols-2 gap-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Shipping To"}),s.jsx("p",{children:e})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Order Status"}),s.jsx("p",{children:t?"Payment successful":"Pending payment"})]})]})}},41288:(e,r,t)=>{"use strict";var s=t(71083);t.o(s,"notFound")&&t.d(r,{notFound:function(){return s.notFound}}),t.o(s,"redirect")&&t.d(r,{redirect:function(){return s.redirect}})},71083:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return s.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=t(1192),i=t(76868);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},76868:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return i},notFound:function(){return s}});let t="NEXT_NOT_FOUND";function s(){let e=Error(t);throw e.digest=t,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},83701:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},1192:(e,r,t)=>{"use strict";var s;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return u}});let i=t(54580),n=t(72934),o=t(83701),a="NEXT_REDIRECT";function l(e,r,t){void 0===t&&(t=o.RedirectStatusCode.TemporaryRedirect);let s=Error(a);s.digest=a+";"+r+";"+e+";"+t+";";let n=i.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function u(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw l(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw l(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,s,i]=e.digest.split(";",4),n=Number(i);return r===a&&("replace"===t||"push"===t)&&"string"==typeof s&&!isNaN(n)&&n in o.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";",3)[2]:null}function f(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},18812:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(72051),i=t(92177),n=t(59624),o=t(52845),a=t(55249),l=t(41288),u=t(95193),c=t(39812),d=t(92349);let p=(0,t(45347).createProxy)(String.raw`D:\Amin\Projects\VehiclesWeb\src\components\PaymentStatus.tsx#default`),f=async({searchParams:e})=>{let r=e.orderId,t=(0,o.cookies)(),{user:f}=await (0,i.z)(t),m=await (0,a.T)(),{docs:x}=await m.find({collection:"orders",depth:2,where:{id:{equals:r}}}),[h]=x;if(!h)return(0,l.notFound)();if(("string"==typeof h.user?h.user:h.user.id)!==f?.id)return(0,l.redirect)(`/sign-in?origin=thank-you?orderId=${h.id}`);let g=h.products.reduce((e,r)=>e+r.price,0);return(0,s.jsxs)("main",{className:"relative lg:min-h-full",children:[s.jsx("div",{className:"hidden lg:block h-80 overflow-hidden lg:absolute lg:h-full lg:w-1/2 lg:pr-4 xl:pr-12",children:s.jsx(n.default,{fill:!0,src:"/checkout-thank-you.jpg",className:"h-full w-full object-cover object-center",alt:"thank you for your order"})}),s.jsx("div",{children:s.jsx("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:(0,s.jsxs)("div",{className:"lg:col-start-2",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Order successful"}),s.jsx("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Thanks for ordering"}),h._isPaid?(0,s.jsxs)("p",{className:"mt-2 text-base text-muted-foreground",children:["Your order was processed and your assets are available to download below. We've sent your receipt and order details to"," ","string"!=typeof h.user?s.jsx("span",{className:"font-medium text-gray-900",children:h.user.email}):null,"."]}):s.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"We appreciate your order, and we're currently processing it. So hang tight and we'll send you confirmation very soon!"}),(0,s.jsxs)("div",{className:"mt-16 text-sm font-medium",children:[s.jsx("div",{className:"text-muted-foreground",children:"Order nr."}),s.jsx("div",{className:"mt-2 text-gray-900",children:h.id}),s.jsx("ul",{className:"mt-6 divide-y divide-gray-200 border-t border-gray-200 text-sm font-medium text-muted-foreground",children:h.products.map(e=>{let r=u.Zy.find(({value:r})=>r===e.category)?.label,t=e.product_files.url,{image:i}=e.images[0];return(0,s.jsxs)("li",{className:"flex space-x-6 py-6",children:[s.jsx("div",{className:"relative h-24 w-24",children:"string"!=typeof i&&i.url?s.jsx(n.default,{fill:!0,src:i.url,alt:`${e.name} image`,className:"flex-none rounded-md bg-gray-100 object-cover object-center"}):null}),(0,s.jsxs)("div",{className:"flex-auto flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"my-1",children:["Category: ",r]})]}),h._isPaid?s.jsx("a",{href:t,download:e.name,className:"text-blue-600 hover:underline underline-offset-2",children:"Download asset"}):null]}),s.jsx("p",{className:"flex-none font-medium text-gray-900",children:(0,c.T)(e.price)})]},e.id)})}),(0,s.jsxs)("div",{className:"space-y-6 border-t border-gray-200 pt-6 text-sm font-medium text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Subtotal"}),s.jsx("p",{className:"text-gray-900",children:(0,c.T)(g)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Transaction Fee"}),s.jsx("p",{className:"text-gray-900",children:(0,c.T)(1)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[s.jsx("p",{className:"text-base",children:"Total"}),s.jsx("p",{className:"text-base",children:(0,c.T)(g+1)})]})]}),s.jsx(p,{isPaid:h._isPaid,orderEmail:h.user.email,orderId:h.id}),s.jsx("div",{className:"mt-16 border-t border-gray-200 py-6 text-right",children:s.jsx(d.default,{href:"/products",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Continue shopping →"})})]})]})})})]})}},95193:(e,r,t)=>{"use strict";t.d(r,{K5:()=>i,Zy:()=>s});let s=[{label:"UI Kits",value:"ui_kits",featured:[{name:"Editor picks",href:"#",imageSrc:"/nav/ui-kits/mixed.jpg"},{name:"New Arrivals",href:"#",imageSrc:"/nav/ui-kits/blue.jpg"},{name:"Bestsellers",href:"#",imageSrc:"/nav/ui-kits/purple.jpg"}]},{label:"Icons",value:"icons",featured:[{name:"Favorite Icon Picks",href:"#",imageSrc:"/nav/icons/picks.jpg"},{name:"New Arrivals",href:"#",imageSrc:"/nav/icons/new.jpg"},{name:"Bestselling Icons",href:"#",imageSrc:"/nav/icons/bestsellers.jpg"}]}],i=[{label:"Car",value:"car"},{label:"Jeep",value:"jeep"},{label:"MotorCycle",value:"motor_cycle"},{label:"Bus",value:"bus"},{label:"Truck",value:"truck"},{label:"Tractor",value:"tractor"}]},55249:(e,r,t)=>{"use strict";t.d(r,{T:()=>p});var s=t(25438),i=t.n(s),n=t(55315),o=t.n(n),a=t(48858),l=t.n(a),u=t(56742);i().config({path:o().resolve(__dirname,"../.env")});let c=u.createTransport({host:"smtp.resend.com",secure:!0,port:465,auth:{user:"resend",pass:process.env.RESEND_API_KEY}}),d=global.payload;d||(d=global.payload={client:null,promise:null});let p=async({initOptions:e}={})=>{if(!process.env.PAYLOAD_SECRET)throw Error("PAYLOAD_SECRET is missing");if(d.client)return d.client;d.promise||(d.promise=l().init({email:{transport:c,fromAddress:"onboarding@resend.dev",fromName:"ShowRoom"},secret:process.env.PAYLOAD_SECRET,local:!e?.express,...e||{}}));try{d.client=await d.promise}catch(e){throw d.promise=null,e}return d.client}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[379,19,819,624,455],()=>t(57363));module.exports=s})();